# Руководство пользователя и инструкция по запуску

## 1. Назначение
«ЭкоБарахолка» — учебный проект ВКР: обмен/передача вещей, пожертвования, переработка и утилизация с рекомендациями. Есть веб‑интерфейс (Flask) и REST API, далее планируется десктоп‑клиент PySide6.

## 2. Требования
- Python 3.8+ (рекомендовано 3.10+)
- MySQL 8.x (или PostgreSQL по .env.example)
- pip, venv (по желанию)

## 3. Быстрый старт (MySQL)
1) Создайте БД и пользователя:
```
CREATE DATABASE ecobg_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE USER 'eco_user'@'localhost' IDENTIFIED BY 'eco_pass';
GRANT ALL PRIVILEGES ON ecobg_db.* TO 'eco_user'@'localhost';
FLUSH PRIVILEGES;
```
2) Скопируйте .env и заполните строку подключения:
```
cp .env.example .env
# или в Windows PowerShell
Copy-Item .env.example .env
```
В .env:
```
DATABASE_URL=mysql+pymysql://eco_user:eco_pass@localhost:3306/ecobg_db?charset=utf8mb4
```
3) Установите зависимости:
```
python -m pip install -r requirements.txt
```
4) Инициализируйте БД (однократно в чистой базе):
```
$env:PYTHONPATH=(Get-Location).Path
python .\scripts\init_db.py
python .\scripts\seed_basics.py
```
5) Запуск сервера разработки:
```
python .\main.py
```
Откройте http://127.0.0.1:5000

## 4. Роли (по умолчанию)
- admin — администратор (после назначения роли) 
- manager — менеджер 
- client — обычный пользователь

## 5. Основные сценарии
- Регистрация/вход (раздел «Вход/Регистрация»).
- Каталог объявлений и фильтры.
- Создание/редактирование/удаление объявления (Личный кабинет).
- Карточка вещи: обмен, пожертвование, отметка переработки.
- Справка (раздел «Справка»), редактирование доступно администратору.

## 6. REST API (минимум)
- GET /api/categories — список категорий
- GET /api/items — список объявлений (фильтры: category_id, status)
- POST /api/items — создание объявления (JSON)

## 7. Структура проекта (сокращенно)
- backend/app — Flask‑приложение (модели, маршруты, API, шаблоны)
- backend/services, backend/repositories — задел под бизнес‑логику и DAL
- scripts — инициализация БД/сидинг, сборка архива
- docs — документация
- data — дампы/тестовые данные (будет пополняться)

## 8. Автор и отметка ручной работы
- Проект сопровождается русскими комментариями в ключевых местах кода.
- Документация написана вручную (архитектура, гайд, тест‑план/кейсы).
- Коммиты рекомендуется делать пошагово (для ВКР — не менее 50), с понятными сообщениями.

## 9. Сборка .exe (позже)
Пример команды (после стабилизации клиента PySide6):
```
pyinstaller --noconsole --noconfirm --name EcobgClient .\client\main_client.py
```

## 10. Известные ограничения
- Админ‑панель и генерация .docx/.xlsx в процессе реализации.
- Десктоп‑клиент PySide6 будет добавлен на следующих этапах (10+ окон/диалогов).
